<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PV293RL');</script>
  <!-- End Google Tag Manager -->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-68703814-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-68703814-2');
  </script>

  <meta charset="UTF-8">
  <title>邏輯教具 AMIQ 租借 | 適用年齡 2-12 歲</title>

  <!-- <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" /> -->

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Language" content="zh-tw" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="JILL WANG">
  <meta name="copyright" content="JILL WANG">
  
  <link rel="author" href="JILL WANG">
  <link rel="publisher" href="JILL WANG">
  <meta name="description" content="AMIQ邏輯教具出租 租比買更划算">
  
  <meta itemprop="name" content="AMIQ邏輯教具出租">
  <meta itemprop="image" content="https://jillyz.github.io/amiq/img/og.jpg">
  <meta itemprop="description" content="AMIQ邏輯教具出租 租比買更划算">
  
  <meta property="og:title" content="AMIQ邏輯教具出租" >
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://jillyz.github.io/amiq/">
  <meta property="og:image" content="https://jillyz.github.io/amiq/img/og.jpg">
  <meta property="og:description" content="AMIQ邏輯教具出租 租比買更划算" >

  <!--呈現在網頁名稱左方的小icon-->
  <link rel="icon" href="img/appicon/touch-icon-iphone.png">
  <!--用戶將網頁收藏為書籤並加到主畫面時，可以令最下的選單消失，令網頁變為全屏幕-->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="format-detection" content="telephone=yes">
  <meta name="MobileOptimized" content="320">
  <meta name="HandheldFriendly" content="True">
  <meta http-equiv="cleartype" content="on">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!--用戶將網頁收藏為書並加到主畫面時，可以將最上的狀態列設定為其他顏色-->
  <meta name="apple-mobile-web-app-status-bar-style" content="white" /> 

  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#fff">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#fff">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-status-bar-style" content="#fff">

  <link rel="shortcut icon" href="img/appicon/touch-icon-iphone.png" type="image/png" />
  <link rel="apple-touch-icon" href="img/appicon/touch-icon-iphone.png"/>
  
  <meta name="apple-mobile-web-app-title" content="Amiq rent">
  <link rel="apple-touch-startup-image" href="img/launch.png">
  
  <link rel="stylesheet" href="css/game.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/solid.css" integrity="sha384-+0VIRx+yz1WBcCTXBkVQYIBVNEFH1eP6Zknm16roZCyeNg2maWEpk/l/KsyFKs7G" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/fontawesome.css" integrity="sha384-jLuaxTTBR42U2qJ/pm4JRouHkEDHkVqH0T1nyQXn1mZ7Snycpf6Rl25VBNthU4z0" crossorigin="anonymous">

  <!-- Hotjar Tracking Code for https://jillyz.github.io/amiq/ -->
  <script>
      (function(h,o,t,j,a,r){
          h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
          h._hjSettings={hjid:499014,hjsv:5};
          a=o.getElementsByTagName('head')[0];
          r=o.createElement('script');r.async=1;
          r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
          a.appendChild(r);
      })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
</head>

<body id="body" class="game">

  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PV293RL"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- <div id="top"></div> -->

<div class="tool"> 
    <span id="openFullScreen"><img src="img/game/expand-solid.svg" alt="全螢幕" /></span>
    <span id="exitFullScreen"><img src="img/game/compress-solid.svg" alt="結束全螢幕" /></span>
    <span id="openMenu"><img src="img/game/bars-solid.svg" alt="選單" /></span>
</div>
  <div class="game-wrap">
    <div class="game-question-sample">
        <div id="question" class="game-question-text">
            <!-- <p>{topic.opening}</p>
            <p>{topic.question}</p> -->
        </div>
        <div class="game-answer-sample" style="" onclick="fullscreenHandler()"></div>
    </div>
    <div id="questionImg" class="game-question-img" style=""></div>
    <div class="game-option-img" style="">
        <div class="game-option game-list">
            <ul id="optionList">
                <!-- view.renderOptionList() -->
            </ul>
        </div>
    </div>
    <div class="game-card game-list">
        <ul id="cardList">
            <!-- view.renderCardList() -->
        </ul>
    </div>
    <div class="show-ans">
        <button style=""></button>
        <a class="back-topic">回到題目</a>
    </div>
</div>
<!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/_62DNuOQIu8?controls=0&autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
<!-- <audio id="bgMusic" autoplay loop>
    <source src="sound/bg.mp3" type="audio/mpeg">
</audio> -->

<!-- <div id="player" class="bgm"></div> -->

<script src="js/libs/jquery.min.js"></script>
<script src="js/moduale.js"></script>
<!-- <script src="js/youtube-cover.js"></script> -->

<script>
    
</script>
<script> 
    var currentTopic = {};
    var path = '';
    var topics = [
        {
            'id': '102_1',
            'no': 'tgjua',
            'opening': '這些水果看起來真好吃',
            'question': '找出相同的數量',
        },
        {
            'id': '102_6',
            'no': 'abcde',
            'opening': '文具店可以買到筆紙橡皮擦',
            'question': '數一數找出符合的數量',
        },
        {
            'id': '106_1',
            'no': 'rdjov',
            'opening': '早安！起床準備上學囉',
            'question': '找出符合的睡衣和襪子唷',
        },
        {
            'id': '106_6',
            'no': 'csgrm',
            'opening': '彼得畫了這張美麗的圖',
            'question': '他用了哪些顏色呢？請指出來',
        },
        {
            'id': '106_7',
            'no': 'sbjkw',
            'opening': '這些有趣的拼圖，每個都少了一片',
            'question': '找出少掉的一片',
        },
        {
            'id': '107_2',
            'no': 'hdpke',
            'opening': '早餐過後，爸爸看報紙，我和小狗玩',
            'question': '找出一樣的圖片',
        },
        {
            'id': '115_1',
            'no': 'gbiudj',
            'opening': '春天來了！花開了，多令人愉悅的景象',
            'question': '找出相同的圖片',
        },
        
        {
            'id': '505_1',
            'no': 'egbsi',
            'opening': '找出左右對調的圖形',
            'question': '',
        },
        {
            'id': '506_3',
            'no': 'zxvfo',
            'opening': '這些自然中的事物和下方物品有所關聯',
            'question': '',
        },
        {
            'id': '506_4',
            'no': 'sfubx',
            'opening': '這些會讓你聯想到什麼用途或場景？',
            'question': '',
        },
    ]

    var view = {
        set: {
            'selectCard': 0,
        },
        init : function() {
            $('.show-ans').hide();
            if(window.innerWidth > window.innerHeight) {
                // $('.game-option-img').hide();
            }
            $('#exitFullScreen').hide();
            view.getTopic();
            view.renderCardList();
            view.renderOptionList();
            view.renderQuestion();
            view.setImagePath();
            view.events();
        },
        events: function(){
            $('.game-card a').click(function(){
                var isUnselect = !($(this).hasClass('active'));
                var isSelected = !isUnselect;
                if(isUnselect) {
                    currentCard = parseInt($(this).attr('data-card'));
                    $(this).removeClass('ans').addClass('active');
                    view.playClickSound();
                    view.checkCard();
                    view.set.selectCard = currentCard;

                    if(window.innerWidth > window.innerHeight) {
                        $('.game-card').animate({'bottom': '-50vh'}, 300);
                        $('.game-option-img').show();
                    }

                    $('.game-option a').removeClass('flash').not('[data-showoption]').addClass('flash');
                    
                }
                if(isSelected) {
                    // var optionFull = $('.game-option a[data-showoption]').size() == 12;
                    // if(optionFull) {
                    //     $('.show-ans').show();
                    // }

                    $(this).removeClass('active');
                    var removeCard = parseInt($(this).attr('data-card'));
                    $('.game-option a[data-showoption="' + removeCard + '"]').removeAttr('data-showoption');                
                    view.playClickSound();
                    view.set.selectCard = 0;
                    

                    if(window.innerWidth > window.innerHeight) {
                        // $('.game-option-img').hide();
                    }

                    $('.game-option a').removeClass('flash').not('[data-showoption]').addClass('flash');
                    
                }
            });
            $('.game-option a').click(function(){
                var isEmpty = !($(this)[0].hasAttribute('data-showoption'));
                var isNotEmpty = !isEmpty;

                if(isEmpty && view.set.selectCard > 0 ) {
                    $(this).attr('data-showoption',currentCard );
                    currentCard = 0;
                    view.playClickSound();
                    view.set.selectCard = 0;

                    
                        var optionFull = $('.game-option a[data-showoption]').size() == 12;
                        if(!optionFull) {
                            if(window.innerWidth > window.innerHeight) {
                                $('.game-card').animate({'bottom': '0'}, 200);
                                // $('.game-option-img').hide();
                                
                            }
                            $('.game-option a').removeClass('flash');
                        }  
                        if(optionFull){
                            var top = $('.game-option-img').offset().top;
                            $("html").animate({"scrollTop": top});
                            // $("html,body").animate({"scrollTop": top});
                            $('.show-ans').show();
                            // $('.game-option-img').show();
                        }

                }
                if(isNotEmpty) {
                    var optionFull = $('.game-option a[data-showoption]').size() == 12;
                    if(optionFull) {
                        $('.show-ans').hide();
                    }

                    if(view.set.selectCard !== false) {
                        var removeCard = parseInt($(this).attr('data-showoption'));
                        $('.game-card a[data-card="' + removeCard + '"]').removeClass('active');                
                        $(this).removeAttr('data-showoption');
                        view.playClickSound();

                        if(window.innerWidth > window.innerHeight) {
                            $('.game-card').animate({'bottom': '0'}, 200);
                            // $('.game-option-img').hide();
                        }  
                    }
                  
                }

            });
            $('.game-question-img').click(function(){
                // setScrollIntoView('questionImg');
            })
            $('.show-ans button').click(function(){
                var isAnswerView = $(this).hasClass('ans');
                if(!isAnswerView) {
                    $('.game-option a[data-showoption]').addClass('ans');
                    $(this).addClass('ans');
                    view.setImagePath();
                }
                if(isAnswerView) {
                    $(this).removeClass('ans');
                    $('.game-option a[data-showoption]').removeClass('ans');
                    $(this).css('background-image', '');
                    $('.game-option a').removeClass('ans');
                }
            })

            // $('.show-ans button:not(.ans)').click(function(){
            //     $('.game-option a[data-showoption]').addClass('ans');
            //     $(this).addClass('ans');
            //     console.log('ans!')
            // })

            $('.back-topic').click(function(){
                $("html").animate({"scrollTop": 0});
            })

            $('#openFullScreen, #exitFullScreen').click(function(){
                view.fullscreenHandler();
            })

        },
        getTopic: function(){
            var defaultTopicId = view.getParameter('t');
            if(defaultTopicId !== undefined) {
                topics.forEach(function(item){
                    if(item.id == defaultTopicId) {
                        currentTopic = item;
                        return;
                    }
                })
                if ( Object.keys(currentTopic).length === 0 ) {
                    view.getRandomTopic();
                    view.removeParameter('t');
                }
            }
            if(defaultTopicId == undefined) {
                view.getRandomTopic();
            }
        },
        getRandomTopic: function () {
            var topic = topics[Math.floor(Math.random() * topics.length)];
            currentTopic=  topic;
        },
        getParameter: function(variable){
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i=0;i<vars.length;i++) {
                var pair = vars[i].split("=");
                if (pair[0] == variable) {
                return pair[1];
                }
            } 
        },
        removeParameter: function(parameter) {
            var url=document.location.href;
            var urlparts= url.split('?');

            if (urlparts.length>=2)
            {
            var urlBase=urlparts.shift(); 
            var queryString=urlparts.join("?"); 

            var prefix = encodeURIComponent(parameter)+'=';
            var pars = queryString.split(/[&;]/g);
            for (var i= pars.length; i-->0;)               
                if (pars[i].lastIndexOf(prefix, 0)!==-1)   
                    pars.splice(i, 1);
            url = urlBase + '?' + pars.join('&');
            window.history.pushState('',document.title,url); // added this line to push the new url directly to url bar .
            }
            return url;
        },
        renderCardList: function() {
            var Li = []
            for (var i = 0; i < 12; i++) {
                Li.push(
                    '<li><a data-card=' + (i + 1) + '>' + (i + 1) + '</a></li>'
                );
            }
            $('#cardList').html(Li);
        },
        renderOptionList: function() {
            var Li = []
            for (var i = 0; i < 12; i++) {
                Li.push(
                    '<li><a></a></li>'
                );
            }
            $('#optionList').html(Li);
        },
        renderQuestion: function(){
            var opening = '<p>' + currentTopic.opening + '</p>';
            var question = '<p>' + (currentTopic.question ? currentTopic.question : '&nbsp;') + '</p>';
            $('#question').html( opening + question );
        },
        setImagePath: function(){
            path = 'url(img/game/topic/' + currentTopic.id + '_' + currentTopic.no + '.jpg';
            $('.game-answer-sample, .game-question-img, .game-option-img, .show-ans button.ans').css('background-image', path);
        },
        checkCard: function(){

        },
        playClickSound: function(){
            var audio = new Audio( "sound/click.wav" );
            audio.play();
        },
        fullscreenHandler: function() {
            var isFullScreen = false;

            $('#openFullScreen').toggle();
            $('#exitFullScreen').toggle();

            var elem = document.documentElement;
            //openFullscreen
            if(!isFullScreen) {
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                    elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
                    elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                    elem.msRequestFullscreen();
                }
                isFullScreen = !isFullScreen;
            }   
            //closeFullscreen
            if(isFullScreen) {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
                isFullScreen = !isFullScreen;
            }
        }
    }

    $(function(){
        view.init();
    });

</script>
</body>
</html>
